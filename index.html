<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador Vectorial Pro</title>

    <!-- Fuentes Modernas -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;800&family=Fira+Code:wght@400;600&display=swap"
        rel="stylesheet">

    <!-- Estilos -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Librer√≠as Externas -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/12.4.0/math.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Panel Lateral de Control -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>Explorador de campos escalares y gradiente</h1>
                <p>An√°lisis y Visualizaci√≥n Matem√°tica</p>
            </div>

            <!-- Secci√≥n: Campo Escalar -->
            <div class="control-section">
                <div class="section-title">1. Campo Escalar</div>

                <div class="control-group">
                    <label>Funci√≥n f(x, y)</label>
                    <input type="text" id="func-f" class="math-input" value="x^2 + y^2"
                        placeholder="Ej: sin(x) * cos(y)">
                    <div id="error-func-f" class="error-msg"></div>
                </div>

                <div class="range-inputs">
                    <div class="control-group">
                        <label>X M√≠n</label>
                        <input type="number" id="x-min" value="-2" step="0.5">
                        <div id="error-x-min" class="error-msg"></div>
                    </div>
                    <div class="control-group">
                        <label>X M√°x</label>
                        <input type="number" id="x-max" value="2" step="0.5">
                        <div id="error-x-max" class="error-msg"></div>
                    </div>
                </div>
                <div class="range-inputs">
                    <div class="control-group">
                        <label>Y M√≠n</label>
                        <input type="number" id="y-min" value="-2" step="0.5">
                        <div id="error-y-min" class="error-msg"></div>
                    </div>
                    <div class="control-group">
                        <label>Y M√°x</label>
                        <input type="number" id="y-max" value="2" step="0.5">
                        <div id="error-y-max" class="error-msg"></div>
                    </div>
                </div>
            </div>

            <!-- Secci√≥n: Trayectoria -->
            <div class="control-section">
                <div class="section-title">2. Trayectoria Param√©trica</div>
                <div class="range-inputs">
                    <div class="control-group">
                        <label>x(t)</label>
                        <input type="text" id="func-xt" class="math-input" value="cos(t)">
                        <div id="error-func-xt" class="error-msg"></div>
                    </div>
                    <div class="control-group">
                        <label>y(t)</label>
                        <input type="text" id="func-yt" class="math-input" value="sin(t)">
                        <div id="error-func-yt" class="error-msg"></div>
                    </div>
                </div>
                <div class="range-inputs">
                    <div class="control-group">
                        <label>t M√≠n</label>
                        <input type="number" id="t-min" value="0" step="0.1">
                        <div id="error-t-min" class="error-msg"></div>
                    </div>
                    <div class="control-group">
                        <label>t M√°x</label>
                        <input type="number" id="t-max" value="6.28" step="0.1">
                        <div id="error-t-max" class="error-msg"></div>
                    </div>
                </div>
            </div>

            <!-- Secci√≥n: Punto Espec√≠fico -->
            <div class="control-section">
                <div class="section-title">3. An√°lisis Puntual</div>
                <div class="range-inputs">
                    <div class="control-group">
                        <label>Punto x0</label>
                        <input type="number" id="pt-x" value="1" step="0.5">
                        <div id="error-pt-x" class="error-msg"></div>
                    </div>
                    <div class="control-group">
                        <label>Punto y0</label>
                        <input type="number" id="pt-y" value="1" step="0.5">
                        <div id="error-pt-y" class="error-msg"></div>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <label>Densidad de Malla</label>
                <input type="range" id="densidad" min="10" max="60" value="25">
            </div>

            <button id="btn-graficar" class="primary-btn">
                <span>Graficar</span>
            </button>

            <!-- Secci√≥n Educativa (Teor√≠a) -->
            <div class="teoria-section">
                <h3>üí° Teor√≠a: El Gradiente</h3>
                <div class="math-formula">
                    ‚àáf = (‚àÇf/‚àÇx, ‚àÇf/‚àÇy)
                </div>
                <p class="teoria-desc">
                    El vector gradiente (flecha naranja) indica la direcci√≥n de <strong>m√°ximo incremento</strong> de la
                    funci√≥n.<br><br>
                    Es perpendicular a las curvas de nivel en cada punto. Si subes la monta√±a, el gradiente te dice "la
                    ruta m√°s empinada".
                </p>
            </div>
        </aside>

        <!-- √Årea de Gr√°ficos -->
        <main class="content">
            <!-- Gr√°fica 1: Mapa 2D -->
            <div class="plot-card">
                <div class="card-header">
                    <h2>Mapa de Nivel y Campo Vectorial</h2>
                    <span class="badge">2D View</span>
                </div>
                <div id="plot-contour" class="plot-container"></div>
            </div>

            <!-- Gr√°fica 2: Superficie 3D (Grande) -->
            <div class="plot-card large-plot">
                <div class="card-header">
                    <h2>Superficie Tridimensional</h2>
                    <span class="badge">Interactive 3D</span>
                </div>
                <div id="plot-surface" class="plot-container"></div>
            </div>

            <!-- Gr√°fica 3: Altura vs Tiempo -->
            <div class="plot-card">
                <div class="card-header">
                    <h2>Perfil de Altura en Trayectoria</h2>
                    <span class="badge">f(r(t))</span>
                </div>
                <div id="plot-profile" class="plot-container"></div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="js/math_utils.js"></script>
    <script src="js/script.js"></script>
</body>

</html>